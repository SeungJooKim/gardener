{% extends "base.html" %}
{% load static %}

{% block head %}
    <link href="{% static 'style/login.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center main-container" style="background-image: url({% static 'images/profile_update.png' %});">
    <div class="d-flex justify-content-center align-items-center main-container" style="background-color: rgba(0, 0, 0, 0.5);">
        <div class="container p-0">
            <form action="" method="POST">
                {% csrf_token %}
                <div class="card px-5" style="background-color: rgb(204, 223, 204); max-width: 600px;">
                    <p class="h8 py-5 px-5">아이디 찾기</p>
                    <div class="row gx-3">
                        <div class="col-12 mb-5 d-flex justify-content-center align-items-center">
                            <div class="d-flex flex-column">
                                <img id="blah" src="{{request.user.Image.url}}" alt="" style="border-radius: 100%; width: 100px; height: 100px;">
                            </div>
                        </div>
                        <div class="col-12 mb-2">
                            <div class="d-flex flex-column">
                                <p class="text mb-1">프로필 사진</p>
                                <input type="file" name="Image" onchange="readURL(this);" accept="image/*" id="id_Image">
                                <!-- <img id="blah" src="" style='width:100px; height:100px; border-radius: 100%;' class='mt-2'/> -->
                            </div>
                        </div>
                        <div class="col-12 mb-2">
                            <div class="d-flex flex-column">
                                <p class="text">이름</p>
                                <input type="text" name="name" value="{{form.name.value}}" class="form-control" required="" id="id_name"> 
                            </div>
                        </div>
                        <div class="col-12 mb-2">
                            <div class="d-flex flex-column">
                                <p class="text">소개</p>
                                <textarea name="profile" cols="40" rows="10" id="id_profile"></textarea>
                            </div>
                        </div>
                        <div class="col-12 mt-2">
                            <button class="btn btn-primary mb-3" type="submit" style="background-color: #a0cab5;"><span>저장하기</span></button>
                        </div>
                    </div>
                </div>
            </form>  
        </div>
    </div>
</div>
<script>
    function readURL(input) {
        console.log(input);
        if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
        $('#blah').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
        }
    }
</script>
{% endblock %}
    <div class="d-flex justify-content-center align-items-center main-container" style="background-image: url({% static 'images/profile_update.png' %});">
        <div class="d-flex justify-content-center align-items-center main-container" style="background-color: rgba(0, 0, 0, 0.5);">
            <div class="container p-0">
                <form action="" method="POST">
                    {% csrf_token %}
                    <div class="card px-5" style="background-color: rgb(204, 223, 204);">
                        <p class="h8 py-5 px-5">아이디 찾기</p>
                        <div class="row gx-3">
                            <div class="col-12 mb-5">
                                <div class="d-flex flex-column" style="border-radius: 100%;">
                                    <img src="{{request.user.Image.url}}" alt="">
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="d-flex flex-column">
                                    <p class="text mb-1"></p>
                                    <input type="file" name="Image" class="form-control" onchange="readURL(this);" accept="image/*" id="id_Image">
                                    <div style="border-radius: 100%;">
                                        <img id="blah" src="" style='width:30%; height:auto;' class='mt-2'/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 mb-5">
                                <div class="d-flex flex-column">
                                    <input type="text" name="name" value="{{form.name.value}}" class="form-control" required="" id="id_name"> 
                                </div>
                            </div>
                            <div class="col-12 mb-5">
                                <div class="d-flex flex-column">
                                    <textarea name="profile" cols="40" rows="10" class="form-control" id="id_profile"></textarea>
                                </div>
                            </div>
                            <div class="col-12 mb-5">
                                <button class="btn btn-primary mb-3" type="submit" style="background-color: #a0cab5;"><span>저장하기</span></button>
                            </div>
                        </div>
                    </div>
                </form>  
            </div>
        </div>
    </div>
    <script>
        function readURL(input) {
            console.log(input);
            if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
            $('#blah').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
            }
        }
    </script>