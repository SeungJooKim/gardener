{% extends "base.html" %}
{% load static %}

{%block head%}
<link href="{% static 'style/css/follow.css' %}" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet"> <!--CDN ÎßÅÌÅ¨ -->
{%endblock%}

{% block content %}
        <div class= "main-follow">
            <div class='row'>
                <div id='follow-header' class='d-flex flex-column justify-content-center'>
                    <div id='follow-header-p'>
                        {% if q %}
                            <span>'{{ q }}' Í≤ÄÏÉâ Í≤∞Í≥ºÏûÖÎãàÎã§. </span>
                        {% else %}
                            <span><h2>üåºÏπúÍµ¨Î•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöîüåº</h2></span>
                            <br />
                            <div id="search-friend" style="display:inline">
                                <input class="search-input" type="text" name ='q' value="{{q}}" placeholder="Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî" />
                                <button class="search-input-1" type="submit">Í≤ÄÏÉâ</button>
                            </div>
                        {% endif %}
                    </div>
                    {% comment %} <div id='follow-header-form'>
                        <form action='' method="GET">
                            <input class='follow-input' type="text" name='q' value="{{q}}" placeholder="Ï∞æÍ≥†Ïûê ÌïòÎäî Í∞ÄÎìúÎÑàÏùò Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî!" />
                            <button class='follow-input-1' type="submit"><h6>Í≤ÄÏÉâ</h6></button>
                        </form>
                    </div> {% endcomment %}
                </div>
            </div>
        </div><!--header Îã´Ìûò-->

        <div class="container main-body" id="follow-body">
            {% comment %} {% if %} {% endcomment %}
            <div class="row row-cols-1 row-cols-lg-2">
                <div class="col p-2">
                    <div class="container p-0 follow-box" >
                        <div class="text-center" id="follow-box-title">
                            <span id="follower-title">ÌåîÎ°úÏõå</span>
                        </div>
                        <div>
                        {% if followers %}
                            {% for follower in followers %}
                            {% if forloop.counter0|divisibleby:2 %}
                                <div class="row row-cols-2 row-cols-lg-2 p-3" id="follow-user-box1" >
                            {% else %}
                                <div class="row row-cols-2 row-cols-lg-2 p-3" id="follow-user-box2" >
                            {% endif%}
                                <div class="col p-0 mt-2" id="follow-user-img">
                                    <img src={{follower.following_user.Image.url}} >
                                </div>
                                <div class="col" style="width:80%">
                                    <h5 id="follow-name">üå±ID : {{follower.following_user.userid}}</h5>
                                    {% if request.user != follower.following_user%}
                                            {% if follower.following_user_id in cur_users_followings_list %}
                                            <div class="follow-wraper-{{follower.following_user_id}}" style="display:inline; ">
                                                <div class='following-{{follower.following_user_id}}' style="display:inline;">
                                                {% if forloop.counter0|divisibleby:2 %}
                                                    <button onclick="onClickFollowing({{follower.following_user_id}})" style="background: white; border: 1px solid #ACA790; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏûâ</button>
                                                {%else%}
                                                <button onclick="onClickFollowing({{follower.following_user_id}})" style="background: white; border: 1px solid #a0cab5 ; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏûâ</button>
                                                {%endif%}
                                                </div>
                                            </div>
                                            {% else %}
                                            <div class="follow-wraper-{{follower.following_user_id}}" style="display:inline; ">
                                                <div class="follow-{{follower.following_user_id}}" style="display:inline;">
                                                {% if forloop.counter0|divisibleby:2 %}
                                                    <button onclick="onClickFollow({{follower.following_user_id}})" style="background: white; border: 1px solid #ACA790; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏö∞</button>
                                                {%else%}
                                                <button onclick="onClickFollow({{follower.following_user_id}})" style="background: white; border: 1px solid #a0cab5 ; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏö∞</button>
                                                {%endif%}
                                                </div>
                                            </div>
                                            {% endif %}
                                    {%endif%}
                                    <hr class="m-1">
                                    <span> &nbsp Name : {{follower.following_user.name}}</span><br>
                                    <span> &nbsp Point : {{follower.following_user.point}}</span>
                                    
                                </div>
                            </div>
                            {% endfor %}
                        {% else %} <!--ÌåîÎ°úÏõåÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞-->
                            <div class="text-center" style="margin-top: 50px; height: 300px;">
                                <h4> ÏïÑÏßÅ Ìï®ÍªòÌïòÎäî Í∞ÄÎìúÎÑàÍ∞Ä ÏóÜÎÑ§Ïöîüò•</h4>
                            </div>
                        {% endif%}
                        </div>
                    </div>
                </div>
                <div class="col p-2">
                    <div class="container p-0 follow-box following-box" >
                        <div class="text-center" id="follow-box-title">
                            <span id="follower-title">ÌåîÎ°úÏûâ</span>
                        </div>
                        <div class="list-container">
                        {% if followings %}
                            {% for following in followings %}
                                {% if forloop.counter0|divisibleby:2 %}
                                    <div class="row row-cols-2 row-cols-lg-2 p-3 follow-object-{{following.user_id}}" id="follow-user-box1" >
                                {% else %}
                                    <div class="row row-cols-2 row-cols-lg-2 p-3 follow-object-{{following.user_id}}" id="follow-user-box2" >
                                {% endif%}
                                    <div class="col p-0 mt-2" id="follow-user-img">
                                        <img src={{following.user.Image.url}} >
                                </div>
                                <div class="col" style="width:80%">
                                    <h5 id="follow-name">üå±ID : {{following.user.userid}}</h5>
                                    {% if request.user != following.user%}
                                        {% if following.user_id in cur_users_followings_list %}
                                            <div class="follow-wraper-{{following.user_id}}" style="display:inline; ">
                                                <div class='following-{{following.user_id}}' style="display:inline;">
                                                    {% if forloop.counter0|divisibleby:2 %}
                                                    <button onclick="onClickFollowing({{following.user_id}})"  style="background: white; border: 1px solid #ACA790; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏûâ</button>
                                                    {%else%}
                                                    <button onclick="onClickFollowing({{following.user_id}})"  style="background: white; border: 1px solid #a0cab5; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏûâ</button>
                                                    {%endif%}
                                                </div>
                                            </div>
                                        {% else %}

                                            <div class="follow-wraper-{{following.user_id}}" style="display:inline; ">
                                                <div class="follow-{{following.user_id}}" style="display:inline;">
                                                    {% if forloop.counter0|divisibleby:2 %}
                                                    <button  onclick="onClickFollow({{following.user_id}})" style="background: white; border: 1px solid #ACA790; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏö∞</button>
                                                    {%else%}
                                                    <button  onclick="onClickFollow({{following.user_id}})"  style="background: white; border: 1px solid #a0cab5; padding:5px; border-radius:10px; font-size:16px;">ÌåîÎ°úÏö∞</button>
                                                    {%endif%}
                                                </div>
                                            </div>
                                        {% endif %}
                                    {%endif%}
                                    <hr class="m-1">
                                    <span> &nbsp Name : {{following.user.name}}</span><br>
                                    <span> &nbsp Point : {{following.user.point}}</span>
                                    
                                </div>
                            </div>
                            {% endfor %}
                        {% else %} <!--ÌåîÎ°úÏõåÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞-->
                            <div class="text-center" style="margin-top: 50px; height: 300px;">
                                <h4> ÏïÑÏßÅ Ìï®ÍªòÌïòÎäî Í∞ÄÎìúÎÑàÍ∞Ä ÏóÜÎÑ§Ïöîüò•</h4>
                            </div>
                        {% endif%}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block js %}
    <script src="{% static 'javascripts/follow_list.js' %}"></script>
{% endblock %}
